static const unsigned char PROGMEM image_FaceNormal_bits[] = {0x60,0x0c,0x70,0x1c,0x70,0x1c,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00};

static const unsigned char PROGMEM image_Layer_8_bits[] = {0x80,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x20,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00};

static const unsigned char PROGMEM image_Layer_9_bits[] = {0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0x02,0x00,0x00,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x01,0x00,0x00,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x20,0x00};

static const unsigned char PROGMEM image_Percent_bits[] = {0x30,0xc0,0x78,0xc0,0xcc,0xc0,0xcd,0xc0,0x7b,0x80,0x37,0x00,0x0e,0x00,0x1c,0x00,0x3b,0x00,0x77,0x80,0xec,0xc0,0xcc,0xc0,0xc7,0x80,0xc3,0x00};

static const unsigned char PROGMEM image_weather_humidity_white_bits[] = {0x04,0x00,0x04,0x00,0x0c,0x00,0x0a,0x00,0x12,0x00,0x11,0x00,0x20,0x80,0x20,0x80,0x41,0x40,0x40,0xc0,0x80,0xa0,0x80,0x20,0x40,0x40,0x40,0x40,0x30,0x80,0x0f,0x00};

static const unsigned char PROGMEM image_weather_temperature_bits[] = {0x1c,0x00,0x22,0x02,0x2b,0x05,0x2a,0x02,0x2b,0x38,0x2a,0x60,0x2b,0x40,0x2a,0x40,0x2a,0x60,0x49,0x38,0x9c,0x80,0xae,0x80,0xbe,0x80,0x9c,0x80,0x41,0x00,0x3e,0x00};
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

#define SCREEN_WIDTH 128 // OLED display width, in pixels
#define SCREEN_HEIGHT 64 // OLED display height, in pixels

#define OLED_RESET     -1 // Reset pin # (or -1 if sharing Arduino reset pin)
#define SCREEN_ADDRESS 0x3C ///< See datasheet for Address; 0x3D for 128x64, 0x3C for 128x32
Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);
#include <DHT.h>
#define DHTPIN 2
#define DHTTYPE DHT11   
DHT dht(DHTPIN, DHTTYPE);
//motors
int fan_1  = 7;
int fan_2  = 8;
int pump_1 = 9;
int pump_2 =10;
//sensors
int soil_moisture = A0;
int LDR = A1;
//LEDs
int LED = 6;

void setup() {
  // put your setup code here, to run once:
pinMode(fan_1,OUTPUT);
pinMode(fan_2,OUTPUT);
pinMode(pump_1,OUTPUT);
pinMode(pump_2,OUTPUT);
pinMode(LED,OUTPUT);
pinMode(LDR,INPUT);

dht.begin();
Serial.begin(9600);
display.begin(SSD1306_SWITCHCAPVCC, SCREEN_ADDRESS);
display.clearDisplay();
}


void loop() {
  // put your main code here, to run repeatedly:
  //LDR
int LDR_value = analogRead(LDR);//analog-->(0,1023)
int LED_value = map(LDR_value,0,1023,255,0);// غيرنا رينج القيم وعكسناها
analogWrite(LED,LED_value);//pwm-->(0,255)
delay(200);

//soil_moisture&pump
int soil_value = analogRead(soil_moisture);
Serial.println("soil_moisture = " );
Serial.println(soil_value );
delay(300);
if (soil_value>700)
{
  digitalWrite(pump_1,HIGH);
  digitalWrite(pump_2,LOW);
}else{
  digitalWrite(pump_1,LOW);
  digitalWrite(pump_2,LOW);
}
//DHT&fan
float temp =dht.readTemperature();
if (temp>10){
  digitalWrite(fan_1,HIGH);
  digitalWrite(fan_2,LOW);
}else{
  digitalWrite(fan_1,LOW);
  digitalWrite(fan_2,LOW);}

  Serial.println("temperature = " );
   Serial.println(temp );
//oledDisplay

// FaceNormal
display.drawBitmap(57, 30, image_FaceNormal_bits, 15, 7, 1);

// Layer 2
display.drawCircle(64, 32, 12, 1);

// Layer 3
display.drawRect(67, 0, 60, 19, 1);

// Layer 4
display.drawRect(0, 44, 57, 19, 1);

// Layer 5
display.setTextColor(1);
display.setTextWrap(false);
//display.setFont(&FreeMonoBold9pt7b);
display.setCursor(52, 29);
display.print("");

// Layer 6
display.setFont();
display.setCursor(2, 52);
display.print("");

// Layer 7
display.setCursor(65, 6);
display.print("         C");

// Layer 8
display.drawBitmap(3, 4, image_Layer_8_bits, 63, 39, 1);

// Layer 9
display.drawBitmap(64, 12, image_Layer_9_bits, 61, 49, 1);

// weather_temperature
display.drawBitmap(69, 1, image_weather_temperature_bits, 16, 16, 1);

// weather_humidity_white
display.drawBitmap(3, 46, image_weather_humidity_white_bits, 11, 16, 1);

// Percent
display.drawBitmap(42, 47, image_Percent_bits, 10, 14, 1);

display.setCursor(17, 51);
display.print(soil_value);
display.setCursor(88,  6);
display.print(temp);
display.display();

}
